{"ast":null,"code":"import _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/RestaurantDetails.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport GoogleMapReact from 'google-map-react';\nimport Rating from 'react-rating';\nimport { IoIosStarOutline, IoIosStar } from 'react-icons/io';\nimport NavBar from \"../components/NavBar\";\nimport RewardSelector from \"../components/RewardSelector\";\nimport Footer from '../components/Footer';\nimport leafTranslucent from \"../assets/leaf-translucent.svg\";\nimport leafOpaque from \"../assets/leaf-opaque.svg\";\nimport locMarker from \"../assets/loc-marker.svg\";\nimport * as API from '../utils/api';\n\nvar AnyReactComponent = function AnyReactComponent(_ref) {\n  var text = _ref.text;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"marker map\",\n    src: locMarker,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }));\n};\n\nvar RestaurantDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantDetails, _Component);\n\n  function RestaurantDetails(props) {\n    var _this;\n\n    _classCallCheck(this, RestaurantDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RestaurantDetails).call(this, props));\n\n    _this.setFavorite = function () {\n      console.log(\"Set Fav\");\n      var newUser = _this.props.user;\n      newUser.savedRestaurants.push(_this.state.restaurant.id);\n      API.editUser(_this.props.user.username, newUser).then(function (res) {\n        _this.setState({\n          isFavorite: true\n        });\n\n        _this.props.updateUser(res);\n      });\n    };\n\n    _this.unsetFavorite = function () {\n      console.log(\"Useet Fav\");\n      var newUser = _this.props.user;\n      var removeIndex = newUser.savedRestaurants.findIndex(function (item) {\n        return item === _this.state.restaurant.id;\n      });\n      newUser.savedRestaurants.splice(removeIndex, 1); // API.editUser(this.props.user.username, newUser).then(res => {\n      //     this.setState({\n      //         isFavorite: false\n      //     })\n      //     this.props.updateUser(res);\n      // })\n    };\n\n    _this.submitReview = function () {\n      var review = {\n        username: _this.props.user.username,\n        review: _this.state.reviewText,\n        rating: _this.state.reviewRating,\n        date: new Date()\n      };\n      API.createReview(_this.state.restaurant.id, review).then(function (res) {\n        var temp = _this.state.allReviews;\n        temp.push(review);\n\n        _this.setState({\n          reviewText: '',\n          reviewRating: 0\n        });\n\n        _this.props.populateAllRestaurants();\n      });\n    };\n\n    _this.showLogin = function () {\n      _this.navbar.current.showLogin();\n    };\n\n    _this.showSignup = function () {\n      _this.navbar.current.showSignup();\n    };\n\n    _this.logInUser = function (user) {\n      _this.props.logInUser(user);\n    };\n\n    _this.logOutUser = function () {\n      _this.props.logOutUser();\n    };\n\n    _this.goToProfile = function () {\n      _this.props.history.push('/user/' + _this.props.user.name);\n    };\n\n    _this.signUpUser = function (user) {\n      _this.props.signUpUser(user);\n    };\n\n    _this.dateString = function (date) {\n      var temp = new Date(date);\n      var result = \"\".concat(temp.getDate(), \"/\").concat(temp.getMonth(), \"/\").concat(temp.getFullYear());\n      return result;\n    };\n\n    _this.state = {\n      restaurant: props.restaurant,\n      allReviews: props.restaurant.sustainabilityReviews,\n      isFavorite: false,\n      reviewText: '',\n      reviewRating: 0\n    };\n    _this.navbar = React.createRef();\n    return _this;\n  }\n\n  _createClass(RestaurantDetails, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (!nextProps.user) {} else {\n        var temp = nextProps.user.savedRestaurants.find(function (element) {\n          return element === _this2.state.restaurant.id;\n        });\n        console.log('nextProps.user', temp);\n\n        if (!temp) {} else {\n          this.setState({\n            isFavorite: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      if (this.props.restaurant.id === undefined) {\n        API.getRestaurant(this.props.history.location.pathname.substring(12)).then(function (item) {\n          _this3.setState({\n            restaurant: item[0],\n            allReviews: item[0].sustainabilityReviews\n          });\n\n          if (_this3.props.userLoggedIn) {\n            console.log('this.props.user.savedRestaurants', _this3.props.user.savedRestaurants);\n\n            var temp = _this3.props.user.savedRestaurants.find(function (element) {\n              return element === _this3.props.restaurant.id;\n            });\n\n            if (!temp) {} else {\n              _this3.setState({\n                isFavorite: true\n              });\n            }\n          }\n        });\n      }\n\n      if (this.props.userLoggedIn) {\n        console.log('this.props.user.savedRestaurants', this.props.user.savedRestaurants);\n        var temp = this.props.user.savedRestaurants.find(function (element) {\n          return element === _this3.props.restaurant.id;\n        });\n\n        if (!temp) {} else {\n          this.setState({\n            isFavorite: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      // console.log('IS THIS RESTO SAVED:', this.state.isFavorite)\n      console.log('isfavorit from state', this.state.isFavorite);\n      var _this$state = this.state,\n          restaurant = _this$state.restaurant,\n          allReviews = _this$state.allReviews;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(NavBar, Object.assign({}, this.props, {\n        ref: this.navbar,\n        logOutUser: this.logOutUser,\n        logInUser: this.logInUser,\n        signUpUser: this.signUpUser,\n        userLoggedIn: this.props.userLoggedIn,\n        goToProfile: this.goToProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      })), restaurant.id !== undefined ? React.createElement(\"div\", {\n        className: \"restaurant-detail-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(RewardSelector, {\n        userLoggedIn: this.props.userLoggedIn,\n        user: this.props.user,\n        showLogin: this.showLogin,\n        showSignup: this.showSignup,\n        offeredRewards: this.state.restaurant.typeOfRewards,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"restaurant-detail-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, restaurant.name), React.createElement(\"div\", {\n        className: \"restaurant-detail-photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: restaurant.photo,\n        alt: \"restaurant photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"restaurant-detail-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, restaurant.description), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, restaurant.address), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, restaurant.phone), React.createElement(\"a\", {\n        href: 'http://www.' + restaurant.website,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Eatery Website\")), React.createElement(\"div\", {\n        className: \"restaurant-detail-rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Eco Friendliness\"), React.createElement(Rating, {\n        initialRating: restaurant.averageSustainabilityRating,\n        readonly: true,\n        emptySymbol: React.createElement(\"img\", {\n          alt: \"leaf empty\",\n          width: 40,\n          height: 40,\n          src: leafTranslucent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }),\n        fullSymbol: React.createElement(\"img\", {\n          alt: \"leaf full\",\n          width: 40,\n          height: 40,\n          src: leafOpaque,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"restaurant-detail-map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(GoogleMapReact, {\n        bootstrapURLKeys: {\n          key: 'AIzaSyAThroloBz4lBlrWA_ZCmtXfOFdsI46CXY'\n        },\n        defaultCenter: {\n          lat: restaurant.location.lat,\n          lng: restaurant.location.lng\n        },\n        defaultZoom: this.props.zoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(AnyReactComponent, {\n        lat: restaurant.location.lat,\n        lng: restaurant.location.lng,\n        text: \"My Marker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"restaurant-detail-about\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"About\"), React.createElement(\"div\", {\n        className: this.props.userLoggedIn ? 'restaurant-detail-star-container' : 'restaurant-detail-star-container-hide',\n        onClick: this.state.isFavorite ? this.unsetFavorite : this.setFavorite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, this.state.isFavorite ? React.createElement(IoIosStar, {\n        className: \"restaurant-detail-star restaurant-detail-star-selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }) : React.createElement(IoIosStarOutline, {\n        className: \"restaurant-detail-star restaurant-detail-star-not-selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, \" \", restaurant.about, \" \"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"Sustainable Practices\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, restaurant.sustainabilityPractices.map(function (item) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }, item);\n      }))), React.createElement(\"div\", {\n        className: \"restaurant-detail-reviews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, \"Reviews\"), this.props.userLoggedIn ? React.createElement(\"div\", {\n        className: \"restaurant-detail-reviews-list-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, \"Write a review.\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(Rating, {\n        initialRating: this.state.reviewRating,\n        onChange: function onChange(rate) {\n          return _this4.setState({\n            reviewRating: rate\n          });\n        },\n        emptySymbol: React.createElement(\"img\", {\n          alt: \"leaf empty\",\n          width: 22,\n          height: 22,\n          src: leafTranslucent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }),\n        fullSymbol: React.createElement(\"img\", {\n          alt: \"leaf full\",\n          width: 22,\n          height: 22,\n          src: leafOpaque,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })), React.createElement(\"textarea\", {\n        value: this.state.reviewText,\n        onChange: function onChange(rate) {\n          return _this4.setState({\n            reviewText: rate.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.submitReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \"Submit Review\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"restaurant-detail-reviews-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, allReviews.map(function (review) {\n        return React.createElement(\"div\", {\n          className: \"restaurant-detail-reviews-list-item\",\n          key: \"\".concat(review.username, \"/\").concat(Date.parse(review.date)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, review.username), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }, React.createElement(Rating, {\n          initialRating: review.rating,\n          readonly: true,\n          emptySymbol: React.createElement(\"img\", {\n            alt: \"leaf empty\",\n            width: 22,\n            height: 22,\n            src: leafTranslucent,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 375\n            },\n            __self: this\n          }),\n          fullSymbol: React.createElement(\"img\", {\n            alt: \"leaf full\",\n            width: 22,\n            height: 22,\n            src: leafOpaque,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 383\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        }, _this4.dateString(review.date))), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395\n          },\n          __self: this\n        }, review.review));\n      }), React.createElement(\"div\", {\n        className: \"restaurant-detail-reviews-list-item-void\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      })))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, \"Loading\"), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RestaurantDetails;\n}(Component);\n\nRestaurantDetails.defaultProps = {\n  center: {\n    lat: -37,\n    lng: 144\n  },\n  zoom: 13\n};\nexport default withRouter(RestaurantDetails);","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/RestaurantDetails.js"],"names":["React","Component","withRouter","GoogleMapReact","Rating","IoIosStarOutline","IoIosStar","NavBar","RewardSelector","Footer","API","AnyReactComponent","text","locMarker","RestaurantDetails","props","setFavorite","console","log","newUser","user","savedRestaurants","push","state","restaurant","id","editUser","username","then","res","setState","isFavorite","updateUser","unsetFavorite","removeIndex","findIndex","item","splice","submitReview","review","reviewText","rating","reviewRating","date","Date","createReview","temp","allReviews","populateAllRestaurants","showLogin","navbar","current","showSignup","logInUser","logOutUser","goToProfile","history","name","signUpUser","dateString","result","getDate","getMonth","getFullYear","sustainabilityReviews","createRef","nextProps","find","element","undefined","getRestaurant","location","pathname","substring","userLoggedIn","typeOfRewards","photo","description","address","phone","website","averageSustainabilityRating","leafTranslucent","leafOpaque","key","lat","lng","zoom","about","sustainabilityPractices","map","rate","target","value","parse","defaultProps","center"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from \"react-router-dom\";\nimport GoogleMapReact from 'google-map-react';\nimport Rating from 'react-rating';\n\nimport { IoIosStarOutline, IoIosStar } from 'react-icons/io'\n\nimport NavBar from \"../components/NavBar\";\nimport RewardSelector from \"../components/RewardSelector\";\nimport Footer from '../components/Footer'\n\nimport leafTranslucent from '../assets/leaf-translucent.svg'\nimport leafOpaque from '../assets/leaf-opaque.svg'\nimport locMarker from '../assets/loc-marker.svg'\n\nimport * as API from '../utils/api'\n\n\nconst AnyReactComponent = ({ text }) => <div>\n    <img alt='marker map'  src={locMarker} width={30} height={30}/>\n</div>;\n\nclass RestaurantDetails extends Component {\n    \n    constructor(props) {\n        super(props)\n\n        this.state = {\n            restaurant: props.restaurant,\n            allReviews: props.restaurant.sustainabilityReviews,\n            isFavorite: false,\n            reviewText: '',\n            reviewRating: 0,\n        }\n\n        this.navbar = React.createRef();\n\n    }\n\n    setFavorite = () => {\n        console.log(\"Set Fav\")\n        let newUser = this.props.user;\n        newUser.savedRestaurants.push(this.state.restaurant.id)\n\n        API.editUser(this.props.user.username, newUser).then(res => {\n\n            this.setState({\n                isFavorite: true\n            })\n            this.props.updateUser(res);\n        })\n\n    }\n\n    unsetFavorite = () => {\n        console.log(\"Useet Fav\")\n        let newUser = this.props.user;\n        let removeIndex = newUser.savedRestaurants.findIndex(item => item === this.state.restaurant.id)\n        newUser.savedRestaurants.splice(removeIndex, 1)\n\n        // API.editUser(this.props.user.username, newUser).then(res => {\n        //     this.setState({\n        //         isFavorite: false\n        //     })\n        //     this.props.updateUser(res);\n        // })\n\n    }\n\n\n    submitReview = () => {\n\n        let review = {\n            username: this.props.user.username,\n            review: this.state.reviewText,\n            rating: this.state.reviewRating,\n            date: new Date(),\n        }\n\n        API.createReview(this.state.restaurant.id, review)\n            .then(res => {\n                let temp = this.state.allReviews\n                temp.push(review)\n                this.setState({\n                    reviewText: '',\n                    reviewRating: 0,\n\n                })\n\n                this.props.populateAllRestaurants()\n            })\n\n\n    }\n\n    showLogin = () => {\n        this.navbar.current.showLogin()\n    }\n    showSignup = () => {\n        this.navbar.current.showSignup()\n    }\n\n    logInUser = (user) => {\n        this.props.logInUser(user)\n    }\n\n    logOutUser = () => {\n        this.props.logOutUser()\n    }\n\n    goToProfile = () => {\n        this.props.history.push('/user/' + this.props.user.name)\n    }\n\n    signUpUser = (user) => {\n        this.props.signUpUser(user)\n    }\n\n    dateString = (date) => {\n        let temp = new Date(date)\n        let result = `${temp.getDate()}/${temp.getMonth()}/${temp.getFullYear()}`\n\n        return result\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!nextProps.user) {\n        } else {\n            let temp = nextProps.user.savedRestaurants.find( element => element === this.state.restaurant.id)\n            console.log('nextProps.user', temp)\n            if (!temp){\n            } else {\n                this.setState({\n                    isFavorite: true\n                });\n            }\n        }\n\n    }\n\n    componentDidMount() {\n        if (this.props.restaurant.id === undefined) {\n\n            API.getRestaurant(this.props.history.location.pathname.substring(12)).then(item => {\n                this.setState({\n                    restaurant: item[0],\n                    allReviews: item[0].sustainabilityReviews,\n                })\n\n                if (this.props.userLoggedIn) {\n                    console.log('this.props.user.savedRestaurants', this.props.user.savedRestaurants)\n                    let temp = this.props.user.savedRestaurants.find( element => element === this.props.restaurant.id)\n\n                    if (!temp) {\n                    } else {\n                        this.setState({\n                            isFavorite: true\n                        });\n                    }\n                }\n            })\n        }\n\n        if (this.props.userLoggedIn) {\n            console.log('this.props.user.savedRestaurants', this.props.user.savedRestaurants)\n            let temp = this.props.user.savedRestaurants.find( element => element === this.props.restaurant.id)\n\n            if (!temp) {\n            } else {\n                this.setState({\n                    isFavorite: true\n                });\n            }\n        }\n    }\n\n    static defaultProps = {\n        center: {\n            lat: -37,\n            lng: 144\n        },\n        zoom: 13\n    };\n    \n\n    render() {\n        // console.log('IS THIS RESTO SAVED:', this.state.isFavorite)\n        console.log('isfavorit from state', this.state.isFavorite)\n\n        const { restaurant, allReviews } = this.state\n\n        return(\n            <div>\n                <NavBar\n                    {...this.props}\n                    ref={this.navbar}\n\n                    logOutUser={this.logOutUser}\n                    logInUser={this.logInUser}\n                    signUpUser={this.signUpUser}\n                    userLoggedIn={this.props.userLoggedIn}\n                    goToProfile={this.goToProfile}\n                />\n\n                {\n                    restaurant.id !== undefined\n                    ? (\n                            <div className='restaurant-detail-container'>\n\n                                <RewardSelector\n                                    userLoggedIn={this.props.userLoggedIn}\n                                    user={this.props.user}\n                                    showLogin={this.showLogin}\n                                    showSignup={this.showSignup}\n                                    offeredRewards={this.state.restaurant.typeOfRewards}\n                                />\n\n                                <div className='restaurant-detail-title'>\n                                    {restaurant.name}\n\n                                </div>\n\n\n                                <div className='restaurant-detail-photo'>\n                                    <img src={restaurant.photo}\n                                         alt='restaurant photo'\n                                    />\n                                </div>\n                                <div className='restaurant-detail-info'>\n                                    <p>{restaurant.description}</p>\n                                    <span>{restaurant.address}</span>\n                                    <span>{restaurant.phone}</span>\n                                    <a href={'http://www.' + restaurant.website} target=\"_blank\">Eatery Website</a>\n\n                                </div>\n\n                                <div className='restaurant-detail-rating'>\n                                    <div>Eco Friendliness</div>\n                                    <Rating\n                                        initialRating={restaurant.averageSustainabilityRating}\n                                        readonly={true}\n                                        emptySymbol={\n                                            <img\n                                                alt='leaf empty'\n                                                width={40}\n                                                height={40}\n                                                src={leafTranslucent}\n                                            />\n                                        }\n                                        fullSymbol={\n                                            <img\n                                                alt='leaf full'\n                                                width={40}\n                                                height={40}\n                                                src={leafOpaque}\n                                            />\n                                        }\n\n                                    />\n                                </div>\n\n                                <div className='restaurant-detail-map'>\n                                    <GoogleMapReact\n                                        bootstrapURLKeys={{ key: 'AIzaSyAThroloBz4lBlrWA_ZCmtXfOFdsI46CXY' }}\n                                        defaultCenter={{\n                                            lat: restaurant.location.lat,\n                                            lng: restaurant.location.lng,\n                                        }}\n                                        defaultZoom={this.props.zoom}\n                                    >\n                                        <AnyReactComponent\n                                            lat={restaurant.location.lat}\n                                            lng={restaurant.location.lng}\n                                            text=\"My Marker\"\n                                        />\n                                    </GoogleMapReact>\n                                </div>\n\n                                <div className='restaurant-detail-about'>\n                                    <h2>About</h2>\n\n                                    <div\n                                        className={this.props.userLoggedIn\n                                            ? 'restaurant-detail-star-container'\n                                            : 'restaurant-detail-star-container-hide'}\n                                        onClick={ this.state.isFavorite\n                                            ? this.unsetFavorite\n                                            : this.setFavorite\n                                        }\n                                    >\n                                        {this.state.isFavorite\n                                            ?   <IoIosStar\n                                                className='restaurant-detail-star restaurant-detail-star-selected'\n                                                />\n                                            :   <IoIosStarOutline\n                                                className='restaurant-detail-star restaurant-detail-star-not-selected'\n                                                />\n                                        }\n                                    </div>\n\n                                    <p> {restaurant.about} </p>\n\n                                    <h2>Sustainable Practices</h2>\n                                    <ul>\n                                        {\n                                            restaurant.sustainabilityPractices.map( item =>\n                                                <li>{item}</li>\n                                            )\n                                        }\n                                    </ul>\n                                </div>\n\n\n\n                                <div className='restaurant-detail-reviews'>\n                                    <h2>Reviews</h2>\n\n                                    {\n                                        this.props.userLoggedIn\n                                            ?\n                                            (<div className='restaurant-detail-reviews-list-input'>\n                                                <h3>Write a review.</h3>\n                                                <div>\n                                                    <Rating\n                                                        initialRating={this.state.reviewRating}\n                                                        onChange={(rate) => this.setState({ reviewRating: rate})}\n\n                                                        emptySymbol={\n                                                            <img\n                                                                alt='leaf empty'\n                                                                width={22}\n                                                                height={22}\n                                                                src={leafTranslucent}\n                                                            />\n                                                        }\n                                                        fullSymbol={\n                                                            <img\n                                                                alt='leaf full'\n                                                                width={22}\n                                                                height={22}\n                                                                src={leafOpaque}\n                                                            />\n                                                        }\n                                                    />\n                                                </div>\n\n                                                <textarea\n                                                    value={this.state.reviewText}\n                                                    onChange={(rate) => this.setState({ reviewText: rate.target.value})}\n                                                />\n\n                                                <button\n                                                    onClick={this.submitReview}\n                                                >\n                                                    Submit Review\n                                                </button>\n                                            </div>)\n                                            :   (<div/>)\n                                    }\n\n\n                                    <div className='restaurant-detail-reviews-list'>\n                                        {\n                                            allReviews.map( review => (\n                                                <div\n                                                    className='restaurant-detail-reviews-list-item'\n                                                    key={`${review.username}/${Date.parse(review.date)}`}\n                                                >\n                                                    <label>{review.username}</label>\n                                                    <div>\n                                                        <Rating\n                                                            initialRating={review.rating}\n                                                            readonly={true}\n                                                            emptySymbol={\n                                                                <img\n                                                                    alt='leaf empty'\n                                                                    width={22}\n                                                                    height={22}\n                                                                    src={leafTranslucent}\n                                                                />\n                                                            }\n                                                            fullSymbol={\n                                                                <img\n                                                                    alt='leaf full'\n                                                                    width={22}\n                                                                    height={22}\n                                                                    src={leafOpaque}\n                                                                />\n                                                            }\n\n                                                        />\n                                                        <span >{this.dateString(review.date)}</span>\n                                                    </div>\n\n                                                    <p>{review.review}</p>\n                                                </div>\n                                            ))\n                                        }\n\n                                        <div className='restaurant-detail-reviews-list-item-void'>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                            </div>\n\n                    )\n                    :\n                        <div>\n                            Loading\n\n                        </div>\n                }\n\n\n                <Footer />\n            </div>\n        )\n    }\n    \n    \n}\n\n\nexport default withRouter(RestaurantDetails)"]},"metadata":{},"sourceType":"module"}