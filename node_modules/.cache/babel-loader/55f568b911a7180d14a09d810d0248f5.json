{"ast":null,"code":"import _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerLogin.js\";\nimport React, { Component } from 'react';\nimport '../styles/restaurantlogin.css';\nimport '../styles/main.css';\nimport { Link, withRouter } from \"react-router-dom\";\nimport loginlogo from \"../assets/cafecologo.png\";\nimport browserImage from \"../assets/undraw_browser.svg\";\nimport searchImage from \"../assets/undraw_file_searching_duff.svg\";\nimport { IoIosAddCircle, IoIosCheckmarkCircle } from \"react-icons/io\";\nimport * as API from \"../utils/api\";\n\nvar PartnerLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PartnerLogin, _Component);\n\n  function PartnerLogin(props) {\n    var _this;\n\n    _classCallCheck(this, PartnerLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PartnerLogin).call(this, props));\n\n    _this.logInPartner = function () {\n      if (_this.state.validity) {\n        _this.props.logInPartner({\n          id: _this.state.usernameIN,\n          password: _this.state.passwordIN\n        }).then(function (i) {\n          _this.props.history.replace('/partner/home');\n        }, function (err) {\n          _this.setState({\n            passwordError: 'Incorrect Password'\n          });\n        });\n      }\n    };\n\n    _this.handleChange = function () {\n      _this.setState({\n        usernameIN: _this.refs.usernameIN.value,\n        passwordIN: _this.refs.passwordIN.value\n      });\n\n      if (_this.state.usernameExists && _this.state.passwordIN !== '') {\n        _this.setState({\n          validity: true\n        });\n      } else {\n        _this.setState({\n          validity: false\n        });\n      }\n    };\n\n    _this.handleChangeUser = function () {\n      if (_this.state.usernameIN !== '') {\n        var username = _this.refs.usernameIN.value;\n\n        var found = _this.props.restaurants.find(function (item) {\n          return item.id === username;\n        });\n\n        if (!found) {\n          _this.setState({\n            showStatus: true,\n            usernameExists: false\n          });\n        } else {\n          _this.setState({\n            showStatus: true,\n            usernameExists: true\n          });\n        }\n\n        if (found !== '' && _this.state.passwordIN !== '') {\n          _this.setState({\n            validity: true\n          });\n        } else {\n          _this.setState({\n            validity: false\n          });\n        }\n      } else {\n        _this.setState({\n          showStatus: false\n        });\n      }\n    };\n\n    _this.state = {\n      usernameIN: '',\n      passwordIN: '',\n      showStatus: false,\n      usernameExists: false,\n      validity: false,\n      passwordError: ''\n    };\n    return _this;\n  }\n\n  _createClass(PartnerLogin, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"login-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"left-image\",\n        src: browserImage,\n        alt: \"stylised image of a browser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"middle-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: loginlogo,\n        alt: \"cafeco logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(\"h2\", {\n        className: \"login-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: \"input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        onBlur: this.handleChangeUser,\n        ref: \"usernameIN\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: this.state.showStatus ? 'partner-input-check-container' : 'partner-input-check-container invisible',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.usernameExists ? React.createElement(IoIosCheckmarkCircle, {\n        className: 'signup-input-check',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }) : React.createElement(IoIosAddCircle, {\n        className: 'signup-input-cross',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        ref: \"passwordIN\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: this.state.validity ? \"restaurant-login-button\" : \"restaurant-login-button-disabled\",\n        onClick: this.logInPartner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Log in\"), React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.state.passwordError)), React.createElement(\"div\", {\n        className: \"footnote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"footnote-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Not a partnered buisness?\"), React.createElement(Link, {\n        className: \"text-link\",\n        to: \"/dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Return to homepage.\"))), React.createElement(\"div\", {\n        className: \"right-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"right-image\",\n        src: searchImage,\n        alt: \"stylised image of a magnifying glass looking at documents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PartnerLogin;\n}(Component);\n\nexport default withRouter(PartnerLogin);","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerLogin.js"],"names":["React","Component","Link","withRouter","loginlogo","IoIosAddCircle","IoIosCheckmarkCircle","API","PartnerLogin","props","logInPartner","state","validity","id","usernameIN","password","passwordIN","then","i","history","replace","err","setState","passwordError","handleChange","refs","value","usernameExists","handleChangeUser","username","found","restaurants","find","item","showStatus","browserImage","color","searchImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../styles/restaurantlogin.css';\nimport '../styles/main.css';\n\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport loginlogo from \"../assets/cafecologo.png\";\nimport browserImage from \"../assets/undraw_browser.svg\";\nimport searchImage from \"../assets/undraw_file_searching_duff.svg\";\nimport {IoIosAddCircle, IoIosCheckmarkCircle} from \"react-icons/io\";\n\nimport * as API from \"../utils/api\";\n\nclass PartnerLogin extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            usernameIN: '',\n            passwordIN: '',\n            showStatus: false,\n            usernameExists: false,\n            validity: false,\n            passwordError: '',\n        }\n    }\n\n    logInPartner = () => {\n\n        if (this.state.validity) {\n\n            this.props.logInPartner({\n                id: this.state.usernameIN,\n                password: this.state.passwordIN,\n            })\n                .then( i => {\n                    this.props.history.replace('/partner/home')\n                }, err => {\n                    this.setState({\n                        passwordError: 'Incorrect Password'\n                    })\n                })\n\n        }\n    }\n\n    handleChange = () => {\n        this.setState({\n            usernameIN: this.refs.usernameIN.value,\n            passwordIN: this.refs.passwordIN.value,\n        })\n\n        if (this.state.usernameExists && this.state.passwordIN !== '') {\n            this.setState({\n                validity: true\n            })\n        } else {\n            this.setState({\n                validity: false\n            })\n        }\n    }\n\n    handleChangeUser = () => {\n        if (this.state.usernameIN !== ''){\n            let username = this.refs.usernameIN.value\n            let found = this.props.restaurants.find( item => item.id === username)\n            if (!found){\n                this.setState({\n                    showStatus: true,\n                    usernameExists: false\n                })\n            } else {\n                this.setState({\n                    showStatus: true,\n                    usernameExists: true\n                })\n            }\n            if (found !== '' && this.state.passwordIN !== '') {\n                this.setState({\n                    validity: true\n                })\n            } else {\n                this.setState({\n                    validity: false\n                })\n            }\n        } else {\n            this.setState({\n                showStatus: false,\n            })\n        }\n\n\n        \n\n    }\n\n    render() {\n        return (\n            <div className = \"login-container\">\n                <div className = \"left-container\">\n                    <img className=\"left-image\" src={browserImage} alt = \"stylised image of a browser\"/>\n                </div>\n\n                <div className = \"middle-container\">\n                    <div className = \"login-logo\">\n                        <img  src={loginlogo} alt = \"cafeco logo\"/>\n                    </div>\n\n                    <h2 className = \"login-title\">\n                        Login\n\n                    </h2>\n\n                    <div className = \"input\">\n                        <div className = \"username\">\n                            Username\n                        </div>\n\n                        <input\n                            onChange={this.handleChange}\n                            onBlur={this.handleChangeUser}\n                            ref='usernameIN'\n                        />\n\n                        <div className={ this.state.showStatus\n                            ? 'partner-input-check-container'\n                            : 'partner-input-check-container invisible'\n                        }>\n                            {this.state.usernameExists\n                                ?\n                                <IoIosCheckmarkCircle\n                                    className={'signup-input-check'}\n                                />\n\n                                :\n                                <IoIosAddCircle\n                                    className={'signup-input-cross'}\n                                />\n                            }\n                        </div>\n\n                        <div className = \"password\">\n                            Password\n                        </div>\n                        <input\n                            type='password'\n                            ref='passwordIN'\n                            onChange={this.handleChange}\n                        />\n\n                        <button\n                            className={this.state.validity\n                                ? \"restaurant-login-button\"\n                                : \"restaurant-login-button-disabled\"\n\n                            }\n                            onClick={this.logInPartner}\n                        >\n                            Log in\n                        </button>\n\n                        <div style={{color: 'red'}}>\n                            {this.state.passwordError}\n                        </div>\n                    </div>\n\n\n\n                    <div className = \"footnote\">\n                        <p className = \"footnote-text\">\n                            Not a partnered buisness?\n                        </p>\n                        <Link className = \"text-link\" to = \"/dashboard\">\n                            Return to homepage.\n                        </Link>\n                    </div>\n\n                </div>\n\n\n                <div className = \"right-container\">\n                    <img className = \"right-image\" src = {searchImage} alt = \"stylised image of a magnifying glass looking at documents\"/>\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(PartnerLogin);\n"]},"metadata":{},"sourceType":"module"}