{"ast":null,"code":"import _objectSpread from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/Profile.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from '../components/Footer';\nimport RedeemSuccess from '../components/RedeemSuccess';\nimport * as API from '../utils/api';\nimport { IoIosAddCircle, IoIosCheckmarkCircle } from \"react-icons/io\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n    _this.rewardHelper = {\n      RewFD: {\n        description: \"Free Drink\",\n        points: 35\n      },\n      Rew10: {\n        description: \"10% Off\",\n        points: 50\n      },\n      Rew20: {\n        description: \"20% Off\",\n        points: 75\n      },\n      Rew25: {\n        description: \"25% Off\",\n        points: 100\n      },\n      Rew50: {\n        description: \"50% Off\",\n        points: 200\n      },\n      Rew75: {\n        description: \"75% Off\",\n        points: 350\n      },\n      RewFM: {\n        description: \"Free Meal\",\n        points: 500\n      },\n      Rew100: {\n        description: \"100% Off\",\n        points: 1000\n      }\n    };\n\n    _this.goToProfile = function () {};\n\n    _this.redeemCode = function (e) {\n      e.preventDefault();\n\n      if (!_this.state.redeemErrors) {\n        var temp = Math.ceil(_this.state.saleItem.price * 3) + _this.props.user.points;\n\n        var newCredits = {\n          points: temp\n        };\n        API.editUserPoints(_this.props.user.username, newCredits).then(function (res) {\n          _this.props.updateUser(_objectSpread({}, _this.props.user, {\n            points: newCredits.points\n          }));\n\n          _this.setState({\n            redeemSuccessVisible: true,\n            redeemPoints: Math.ceil(_this.state.saleItem.price * 3)\n          }, function () {\n            API.deleteSale(_this.state.saleItem.id);\n          });\n        });\n      } else {}\n    };\n\n    _this.closeRedeemSuccess = function () {\n      _this.setState({\n        redeemSuccessVisible: false,\n        saleItem: {},\n        redeemPoints: 0\n      });\n    };\n\n    _this.handleChange = function () {\n      _this.setState({\n        rewardCodeIN: _this.refs.RedeemIN.value,\n        redeemErrors: true\n      });\n    };\n\n    _this.checkSale = function () {\n      if (_this.refs.RedeemIN.value !== '') {\n        API.getSale(_this.state.rewardCodeIN).then(function (res) {\n          if (res !== false) {\n            _this.setState({\n              showStatusSale: true,\n              saleItem: res,\n              saleIDExists: true,\n              redeemErrors: false\n            });\n          } else {\n            _this.setState({\n              showStatusSale: true,\n              saleItem: res,\n              saleIDExists: false,\n              redeemErrors: true\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          showStatusSale: false,\n          redeemErrors: true\n        });\n      }\n    };\n\n    _this.goToRestaurantProfile = function (restaurantID) {\n      _this.props.selectRestaurant(restaurantID);\n\n      _this.props.history.push('/restaurant/' + restaurantID);\n    };\n\n    _this.logOutUser = function () {\n      _this.props.logOutUser();\n    };\n\n    _this.updateData = function () {\n      var saved = [];\n      var history = [];\n\n      if (_this.props.user && _this.props.restaurants) {\n        saved = _this.props.user.savedRestaurants.map(function (item) {\n          console.log(_this.props.restaurants);\n\n          var found = _this.props.restaurants.find(function (resto) {\n            return resto.id === item;\n          });\n\n          console.log(found);\n          return found;\n        });\n        history = _this.props.user.rewardHistory.map(function (item) {\n          var string = item.split('-');\n          var date = new Date(parseInt(string[3]));\n          return {\n            description: _this.rewardHelper[string[1]].description,\n            points: _this.rewardHelper[string[1]].points,\n            date: \"\".concat(date.getDate(), \"/\").concat(date.getMonth(), \"/\").concat(date.getFullYear())\n          };\n        });\n\n        _this.setState({\n          savedRestaurants: saved,\n          rewardHistory: history,\n          loading: false\n        });\n      }\n    };\n\n    _this.state = {\n      savedRestaurants: [],\n      rewardHistory: [],\n      rewardCodeIN: '',\n      saleItem: {},\n      saleIDExists: false,\n      showStatusSale: false,\n      redeemErrors: true,\n      redeemSuccessVisible: false,\n      redeemPoints: 0\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props !== nextProps) {// this.updateData()\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.userLoggedIn) {// this.updateData()\n      } else {\n        this.props.refresh();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('profile props:', this.props);\n      var _this$props = this.props,\n          user = _this$props.user,\n          restaurants = _this$props.restaurants,\n          loading = _this$props.loading;\n      console.log('profile state:', this.state);\n      var savedRestaurants = [];\n      var rewardHistory = [];\n\n      if (!loading) {\n        savedRestaurants = user.savedRestaurants.map(function (item) {\n          var found = _this2.props.restaurants.find(function (resto) {\n            return resto.id === item;\n          });\n\n          return found;\n        });\n        rewardHistory = user.rewardHistory.map(function (item) {\n          var string = item.split('-');\n          var resto = restaurants.find(function (i) {\n            return i.id === string[2];\n          });\n          var date = new Date(parseInt(string[3]));\n          return {\n            description: _this2.rewardHelper[string[1]].description,\n            points: _this2.rewardHelper[string[1]].points,\n            restaurantName: resto.name,\n            date: \"\".concat(date.getDate(), \"/\").concat(date.getMonth(), \"/\").concat(date.getFullYear())\n          };\n        });\n      }\n\n      if (this.props.loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, \" LOADING \");\n      } else {\n        if (this.props.userLoggedIn) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242\n            },\n            __self: this\n          }, React.createElement(NavBar, Object.assign({}, this.props, {\n            logOutUser: this.logOutUser,\n            userLoggedIn: this.props.userLoggedIn,\n            goToProfile: this.goToProfile,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243\n            },\n            __self: this\n          })), React.createElement(RedeemSuccess, {\n            visible: this.state.redeemSuccessVisible,\n            closeRedeemSuccess: this.closeRedeemSuccess,\n            points: this.state.redeemPoints,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: 'profile-container',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 255\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: 'profile-item1',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 256\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            className: 'profile-item1-heading',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257\n            },\n            __self: this\n          }, \" Account \"), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260\n            },\n            __self: this\n          }, \"Name:\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 261\n            },\n            __self: this\n          }, user.fname, \" \", user.lname)), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 265\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 266\n            },\n            __self: this\n          }, \"Username:\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 267\n            },\n            __self: this\n          }, user.username)), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 271\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 272\n            },\n            __self: this\n          }, \"Email:\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273\n            },\n            __self: this\n          }, user.email)), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 277\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 278\n            },\n            __self: this\n          }, \"Password:\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279\n            },\n            __self: this\n          }, \"*****\"))), React.createElement(\"div\", {\n            className: 'profile-item2',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286\n            },\n            __self: this\n          }, \"Credits\"), React.createElement(\"div\", {\n            className: \"profile-item2-points-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 290\n            },\n            __self: this\n          }, user.points), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }, \"available\")), React.createElement(\"div\", {\n            className: \"profile-item2-input-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301\n            },\n            __self: this\n          }, \"Redeem Code\"), React.createElement(\"form\", {\n            onSubmit: this.redeemCode,\n            className: \"redeem-code-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            value: this.state.rewardCodeIN,\n            ref: \"RedeemIN\",\n            onChange: this.handleChange,\n            onBlur: this.checkSale,\n            minLength: 8,\n            maxLength: 8,\n            required: true,\n            placeholder: \"Enter Credit Code\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 307\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: this.state.showStatusSale ? 'redeem-code-check-container' : 'redeem-code-check-container invisible',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318\n            },\n            __self: this\n          }, this.state.saleIDExists ? React.createElement(IoIosCheckmarkCircle, {\n            className: 'signup-input-check',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }) : React.createElement(IoIosAddCircle, {\n            className: 'signup-input-cross',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          })), React.createElement(\"button\", {\n            className: !this.state.redeemErrors ? 'redeem-button' : 'redeem-button-disabled',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          }, \"Verify\")))), React.createElement(\"div\", {\n            className: 'profile-item3',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 350\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }, \"Saved Eateries\"), React.createElement(\"div\", {\n            className: 'profile-item3-list',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 355\n            },\n            __self: this\n          }, savedRestaurants.map(function (item) {\n            return React.createElement(\"div\", {\n              className: 'profile-item3-list-item',\n              onClick: function onClick() {\n                return _this2.goToRestaurantProfile(item.id);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 359\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              alt: \"resto photo\",\n              src: item.photo,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 363\n              },\n              __self: this\n            }), React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 364\n              },\n              __self: this\n            }, item.name));\n          }))), React.createElement(\"div\", {\n            className: 'profile-item4',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 375\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 377\n            },\n            __self: this\n          }, \"Reward History\"), React.createElement(\"div\", {\n            className: 'profile-item4-list',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 381\n            },\n            __self: this\n          }, rewardHistory.map(function (item) {\n            return React.createElement(\"div\", {\n              className: 'profile-item4-list-item',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 384\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"profile-item4-list-item-info\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 385\n              },\n              __self: this\n            }, React.createElement(\"label\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 386\n              },\n              __self: this\n            }, item.date), React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 387\n              },\n              __self: this\n            }, item.restaurantName), React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 388\n              },\n              __self: this\n            }, item.description)), React.createElement(\"div\", {\n              className: \"profile-item4-list-item-points\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 390\n              },\n              __self: this\n            }, item.points));\n          })))), React.createElement(Footer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 402\n            },\n            __self: this\n          }));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"profile-not-signed-in\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 407\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 408\n            },\n            __self: this\n          }, \"User not signed in\"), React.createElement(Link, {\n            className: 'navbar-button',\n            to: '/dashboard',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412\n            },\n            __self: this\n          }, \" Home \"));\n        }\n      }\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default withRouter(Profile);","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/Profile.js"],"names":["React","Component","Link","withRouter","NavBar","Footer","RedeemSuccess","API","IoIosAddCircle","IoIosCheckmarkCircle","Profile","props","rewardHelper","RewFD","description","points","Rew10","Rew20","Rew25","Rew50","Rew75","RewFM","Rew100","goToProfile","redeemCode","e","preventDefault","state","redeemErrors","temp","Math","ceil","saleItem","price","user","newCredits","editUserPoints","username","then","res","updateUser","setState","redeemSuccessVisible","redeemPoints","deleteSale","id","closeRedeemSuccess","handleChange","rewardCodeIN","refs","RedeemIN","value","checkSale","getSale","showStatusSale","saleIDExists","goToRestaurantProfile","restaurantID","selectRestaurant","history","push","logOutUser","updateData","saved","restaurants","savedRestaurants","map","item","console","log","found","find","resto","rewardHistory","string","split","date","Date","parseInt","getDate","getMonth","getFullYear","loading","nextProps","userLoggedIn","refresh","i","restaurantName","name","fname","lname","email","photo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport NavBar from \"../components/NavBar\";\nimport Footer from '../components/Footer'\nimport RedeemSuccess from '../components/RedeemSuccess'\n\n\nimport * as API from '../utils/api'\nimport {IoIosAddCircle, IoIosCheckmarkCircle} from \"react-icons/io\";\n\n\n\nclass Profile extends Component {\n\n\n    rewardHelper = {\n        RewFD: {\n            description: \"Free Drink\",\n            points: 35,\n        },\n        Rew10: {\n            description: \"10% Off\",\n            points: 50,\n        },\n        Rew20: {\n            description: \"20% Off\",\n            points: 75,\n        },\n        Rew25: {\n            description: \"25% Off\",\n            points: 100,\n        },\n        Rew50: {\n            description: \"50% Off\",\n            points: 200,\n        },\n        Rew75: {\n            description: \"75% Off\",\n            points: 350,\n        },\n        RewFM: {\n            description: \"Free Meal\",\n            points: 500,\n        },\n        Rew100: {\n            description: \"100% Off\",\n            points: 1000,\n        },\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            savedRestaurants: [],\n            rewardHistory: [],\n            rewardCodeIN: '',\n            saleItem: {},\n            saleIDExists: false,\n            showStatusSale: false,\n            redeemErrors: true,\n            redeemSuccessVisible: false,\n            redeemPoints: 0,\n        }\n    }\n\n    goToProfile = () => {}\n\n    redeemCode = (e) => {\n        e.preventDefault()\n\n        if (!this.state.redeemErrors) {\n            let temp = Math.ceil(this.state.saleItem.price * 3 ) + this.props.user.points\n\n            let newCredits = {\n                points: temp,\n            }\n\n            API.editUserPoints(this.props.user.username, newCredits).then(res => {\n                this.props.updateUser({\n                    ...this.props.user,\n                    points: newCredits.points,\n                })\n\n                this.setState({\n                    redeemSuccessVisible: true,\n                    redeemPoints: Math.ceil(this.state.saleItem.price * 3 ),\n                }, () => {\n                    API.deleteSale(this.state.saleItem.id)\n                })\n            })\n        } else {\n\n        }\n    }\n\n    // openRedeemSuccess = () => {\n    //     this.setState({\n    //         redeemSuccessVisible: true\n    //     })\n    // }\n\n    closeRedeemSuccess = () => {\n        this.setState({\n            redeemSuccessVisible: false,\n            saleItem: {},\n            redeemPoints: 0,\n        })\n    }\n\n    handleChange = () => {\n        this.setState({\n            rewardCodeIN: this.refs.RedeemIN.value,\n            redeemErrors: true\n        })\n    }\n\n    checkSale = () => {\n        if (this.refs.RedeemIN.value !== ''){\n            API.getSale(this.state.rewardCodeIN).then( res => {\n                if (res !== false){\n                    this.setState({\n                        showStatusSale: true,\n                        saleItem: res,\n                        saleIDExists: true,\n                        redeemErrors: false,\n                    })\n                } else {\n                    this.setState({\n                        showStatusSale: true,\n                        saleItem: res,\n                        saleIDExists: false,\n                        redeemErrors: true\n                    })\n                }\n            })\n        } else {\n            this.setState({\n                showStatusSale: false,\n                redeemErrors: true\n            })\n        }\n    }\n\n    goToRestaurantProfile = (restaurantID) => {\n        this.props.selectRestaurant(restaurantID)\n        this.props.history.push('/restaurant/' + restaurantID)\n    }\n\n    logOutUser = () => {\n        this.props.logOutUser()\n    }\n\n    updateData = () => {\n        let saved = []\n        let history = []\n\n        if (this.props.user && this.props.restaurants) {\n\n            saved = this.props.user.savedRestaurants.map(item => {\n                console.log(this.props.restaurants)\n\n                let found = this.props.restaurants.find( resto => resto.id === item)\n                console.log(found)\n                return found\n            })\n\n\n            history = this.props.user.rewardHistory.map(item => {\n                let string = item.split('-')\n                let date = new Date(parseInt(string[3]))\n                return {\n                    description: this.rewardHelper[string[1]].description,\n                    points: this.rewardHelper[string[1]].points,\n                    date: `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`,\n                }\n            })\n\n            this.setState({\n                savedRestaurants: saved,\n                rewardHistory: history,\n                loading: false,\n            })\n        }\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props !== nextProps) {\n            // this.updateData()\n        }\n    }\n\n    componentDidMount(){\n        if (this.props.userLoggedIn) {\n            // this.updateData()\n        } else {\n            this.props.refresh()\n\n        }\n    }\n\n\n    render () {\n        console.log('profile props:', this.props)\n        const { user, restaurants,loading } = this.props\n        console.log('profile state:', this.state)\n\n        let savedRestaurants = []\n        let rewardHistory = []\n\n        if (!loading) {\n            savedRestaurants = user.savedRestaurants.map(item => {\n                let found = this.props.restaurants.find(resto => resto.id === item)\n                return found\n            })\n\n            rewardHistory = user.rewardHistory.map(item => {\n                let string = item.split('-')\n                let resto = restaurants.find(i => i.id === string[2])\n\n                let date = new Date(parseInt(string[3]))\n                return {\n                    description: this.rewardHelper[string[1]].description,\n                    points: this.rewardHelper[string[1]].points,\n                    restaurantName: resto.name,\n                    date: `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`,\n                }\n            })\n        }\n\n        if (this.props.loading){\n            return (\n                <div > LOADING </div>\n            )\n        } else {\n\n            if (this.props.userLoggedIn) {\n\n                return (\n                    <div>\n                        <NavBar\n                            {...this.props}\n                            logOutUser={this.logOutUser}\n                            userLoggedIn={this.props.userLoggedIn}\n                            goToProfile={this.goToProfile}\n                        />\n                        <RedeemSuccess\n                            visible={this.state.redeemSuccessVisible}\n                            closeRedeemSuccess={this.closeRedeemSuccess}\n                            points={this.state.redeemPoints}\n                        />\n\n                        <div className={'profile-container'}>\n                            <div className={'profile-item1'}>\n                                <h2 className={'profile-item1-heading'}> Account </h2>\n\n                                <div>\n                                    <label>Name:</label>\n                                    <span>{user.fname} {user.lname}</span>\n\n                                </div>\n\n                                <div>\n                                    <label>Username:</label>\n                                    <span>{user.username}</span>\n\n                                </div>\n\n                                <div>\n                                    <label>Email:</label>\n                                    <span>{user.email}</span>\n\n                                </div>\n\n                                <div>\n                                    <label>Password:</label>\n                                    <span>*****</span>\n                                </div>\n\n                            </div>\n\n\n                            <div className={'profile-item2'}>\n                                <h2>\n                                    Credits\n                                </h2>\n                                <div className='profile-item2-points-container'>\n                                    <p>\n                                        {user.points}\n                                    </p>\n                                    <span>\n                                    available\n                                </span>\n\n                                </div>\n\n\n                                <div className='profile-item2-input-container'>\n                                    <div>Redeem Code</div>\n\n                                    <form\n                                        onSubmit={this.redeemCode}\n                                        className='redeem-code-container'\n                                    >\n                                        <input\n                                            value={this.state.rewardCodeIN}\n                                            ref='RedeemIN'\n                                            onChange={this.handleChange}\n                                            onBlur={this.checkSale}\n                                            minLength={8}\n                                            maxLength={8}\n                                            required\n                                            placeholder='Enter Credit Code'\n                                        />\n\n                                        <div className={ this.state.showStatusSale\n                                            ? 'redeem-code-check-container'\n                                            : 'redeem-code-check-container invisible'\n                                        }>\n                                            {this.state.saleIDExists\n                                                ?\n                                                <IoIosCheckmarkCircle\n                                                    className={'signup-input-check'}\n                                                />\n\n                                                :\n                                                <IoIosAddCircle\n                                                    className={'signup-input-cross'}\n                                                />\n                                            }\n                                        </div>\n\n                                        <button\n                                            className={!this.state.redeemErrors\n                                            ? 'redeem-button'\n                                            : 'redeem-button-disabled'\n                                            }\n                                        >\n                                            Verify\n                                        </button>\n                                    </form>\n\n                                </div>\n\n                            </div>\n\n\n                            <div className={'profile-item3'}>\n                                <h2>\n                                    Saved Eateries\n                                </h2>\n\n                                <div className={'profile-item3-list'}>\n                                    {\n                                        savedRestaurants.map(item =>\n\n                                            <div\n                                                className={'profile-item3-list-item'}\n                                                onClick={() => this.goToRestaurantProfile(item.id)}\n                                            >\n                                                <img alt='resto photo' src={item.photo}/>\n                                                <div>\n                                                    {item.name}\n                                                </div>\n                                            </div>\n                                        )\n                                    }\n\n                                </div>\n\n                            </div>\n\n                            <div className={'profile-item4'}>\n\n                                <h2>\n                                    Reward History\n                                </h2>\n\n                                <div className={'profile-item4-list'}>\n                                    {\n                                        rewardHistory.map(item =>\n                                            <div className={'profile-item4-list-item'}>\n                                                <div className='profile-item4-list-item-info'>\n                                                    <label>{item.date}</label>\n                                                    <div>{item.restaurantName}</div>\n                                                    <span>{item.description}</span>\n                                                </div>\n                                                <div className='profile-item4-list-item-points'>\n                                                    {item.points}\n                                                </div>\n                                            </div>\n                                        )\n                                    }\n                                </div>\n\n\n                            </div>\n                        </div>\n\n                        <Footer/>\n                    </div>\n                )\n            } else {\n                return (\n                    <div className='profile-not-signed-in'>\n                        <h1>\n                            User not signed in\n                        </h1>\n\n                        <Link\n                            className={'navbar-button'}\n                            to={'/dashboard'}\n                        > Home </Link>\n\n\n                    </div>\n                )\n            }\n        }\n    }\n}\n\nexport default withRouter(Profile)"]},"metadata":{},"sourceType":"module"}