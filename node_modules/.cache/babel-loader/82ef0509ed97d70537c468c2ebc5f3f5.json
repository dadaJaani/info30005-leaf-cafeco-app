{"ast":null,"code":"import _objectSpread from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerDashboard.js\";\nimport React, { Component } from 'react';\nimport PartnerSidebar from '../components/PartnerSidebar';\nimport PartnerEdit from '../components/PartnerEdit';\nimport SaleCreateSuccess from '../components/SaleCreateSuccess';\nimport * as API from '../utils/api';\nimport '../styles/restaurant.css';\nimport logo from \"../assets/cafecopartnerslogo.svg\";\nimport marker from \"../assets/Image-10.png\";\nimport { Link } from \"react-router-dom\";\n\nvar PartnerDashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PartnerDashboard, _Component);\n\n  function PartnerDashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PartnerDashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PartnerDashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.rewardHelper = {\n      RewFD: {\n        description: \"Free Drink\",\n        points: 35\n      },\n      Rew10: {\n        description: \"10% Off\",\n        points: 50\n      },\n      Rew20: {\n        description: \"20% Off\",\n        points: 75\n      },\n      Rew25: {\n        description: \"25% Off\",\n        points: 100\n      },\n      Rew50: {\n        description: \"50% Off\",\n        points: 200\n      },\n      Rew75: {\n        description: \"75% Off\",\n        points: 350\n      },\n      RewFM: {\n        description: \"Free Meal\",\n        points: 500\n      },\n      Rew100: {\n        description: \"100% Off\",\n        points: 1000\n      }\n    };\n    _this.state = {\n      salePriceInput: 0,\n      partner: {},\n      editVisible: false,\n      saleSuccessVisible: false\n    };\n\n    _this.openEdit = function () {\n      _this.setState({\n        editVisible: true\n      });\n    };\n\n    _this.closeEdit = function () {\n      _this.setState({\n        editVisible: false\n      });\n    };\n\n    _this.openSaleSuccess = function () {\n      _this.setState({\n        saleSuccessVisible: false\n      });\n    };\n\n    _this.closeSaleSuccess = function () {\n      _this.setState({\n        saleSuccessVisible: false\n      });\n    };\n\n    _this.createSale = function (e) {\n      e.preventDefault();\n      var saleID = '' + Math.random().toString(36).substr(2, 8);\n      var newSale = {\n        id: saleID,\n        restaurantId: _this.props.partner.id,\n        date: new Date(),\n        price: _this.state.salePriceInput\n      };\n      API.createSale(newSale).then(function (res) {\n        console.log(res);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PartnerDashboard, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState(_objectSpread({}, this.state));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state);\n      console.log('this.props', this.props);\n      var partner = this.props.partner;\n\n      if (partner.id) {\n        return React.createElement(\"div\", {\n          className: \"partner-top-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(PartnerSidebar, {\n          name: partner.name,\n          address: partner.address,\n          logOutPartner: this.props.logOutPartner,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }), React.createElement(PartnerEdit, {\n          visible: this.state.editVisible,\n          closeEdit: this.closeEdit,\n          partner: this.props.partner,\n          editPartner: this.props.editPartner,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }), React.createElement(SaleCreateSuccess, {\n          visible: this.state.editVisible,\n          closeEdit: this.closeSaleSuccess,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"partner-main-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"partner-stats-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"Statistics\"), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"#100\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"on featured cafes of the week\")), React.createElement(\"div\", {\n          className: \"partner-sale-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"Create Sale\"), React.createElement(\"form\", {\n          onSubmit: this.createSale,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"number\",\n          placeholder: \"enter price\",\n          onChange: function onChange(ref) {\n            return _this2.setState({\n              salePriceInput: parseInt(ref.target.value)\n            });\n          },\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"partner-sale-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"Create\"))), React.createElement(\"div\", {\n          className: \"restaurant-profile-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"restaurant-profile-heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Profile\"), React.createElement(\"label\", {\n          className: \"restaurant-profile-item1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"Name:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, partner.name), React.createElement(\"label\", {\n          className: \"restaurant-profile-item3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"Description\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, partner.description), React.createElement(\"label\", {\n          className: \"restaurant-profile-item5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"Rewards Offered:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, partner.typeOfRewards.map(function (item) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, _this2.rewardHelper[item].description);\n        }))), React.createElement(\"label\", {\n          className: \"restaurant-profile-item7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"About:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, partner.about), React.createElement(\"label\", {\n          className: \"restaurant-profile-item9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, \"Sustainability Practices:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, partner.sustainabilityPractices.map(function (item) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227\n            },\n            __self: this\n          }, item);\n        }))), React.createElement(\"label\", {\n          className: \"restaurant-profile-item11\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, \"Address:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, partner.address), React.createElement(\"div\", {\n          className: \"restaurant-profile-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: this.openEdit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, \"Edit\")))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"profile-not-signed-in\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, \"No partner logged in. Please Log In.\"), React.createElement(Link, {\n          className: 'navbar-button',\n          to: '/partner/login',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, \" Partner Login \"));\n      }\n    }\n  }]);\n\n  return PartnerDashboard;\n}(Component);\n\nexport default PartnerDashboard;","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerDashboard.js"],"names":["React","Component","PartnerSidebar","PartnerEdit","SaleCreateSuccess","API","marker","Link","PartnerDashboard","rewardHelper","RewFD","description","points","Rew10","Rew20","Rew25","Rew50","Rew75","RewFM","Rew100","state","salePriceInput","partner","editVisible","saleSuccessVisible","openEdit","setState","closeEdit","openSaleSuccess","closeSaleSuccess","createSale","e","preventDefault","saleID","Math","random","toString","substr","newSale","id","restaurantId","props","date","Date","price","then","res","console","log","nextProps","name","address","logOutPartner","editPartner","ref","parseInt","target","value","typeOfRewards","map","item","about","sustainabilityPractices"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport PartnerSidebar from '../components/PartnerSidebar'\nimport PartnerEdit from '../components/PartnerEdit'\nimport SaleCreateSuccess from '../components/SaleCreateSuccess'\nimport * as API from '../utils/api'\n\nimport '../styles/restaurant.css';\n\nimport logo from \"../assets/cafecopartnerslogo.svg\";\nimport marker from \"../assets/Image-10.png\";\nimport {Link} from \"react-router-dom\";\n\nclass PartnerDashboard extends Component {\n\n    rewardHelper = {\n        RewFD: {\n            description: \"Free Drink\",\n            points: 35,\n        },\n        Rew10: {\n            description: \"10% Off\",\n            points: 50,\n        },\n        Rew20: {\n            description: \"20% Off\",\n            points: 75,\n        },\n        Rew25: {\n            description: \"25% Off\",\n            points: 100,\n        },\n        Rew50: {\n            description: \"50% Off\",\n            points: 200,\n        },\n        Rew75: {\n            description: \"75% Off\",\n            points: 350,\n        },\n        RewFM: {\n            description: \"Free Meal\",\n            points: 500,\n        },\n        Rew100: {\n            description: \"100% Off\",\n            points: 1000,\n        },\n    }\n\n    state = {\n        salePriceInput: 0,\n        partner: {},\n        editVisible: false,\n        saleSuccessVisible: false,\n\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            ...this.state,\n        })\n    }\n\n    openEdit = () => {\n        this.setState({\n            editVisible: true,\n        })\n    }\n\n    closeEdit = () => {\n        this.setState({\n            editVisible: false,\n        })\n    }\n\n    openSaleSuccess = () => {\n        this.setState({\n            saleSuccessVisible: false,\n        })\n    }\n\n    closeSaleSuccess = () => {\n        this.setState({\n            saleSuccessVisible: false,\n        })\n    }\n\n    createSale = (e) => {\n        e.preventDefault()\n\n        let saleID = ('' + Math.random().toString(36).substr(2, 8));\n\n        let newSale = {\n            id: saleID,\n            restaurantId: this.props.partner.id,\n            date: new Date(),\n            price: this.state.salePriceInput,\n        }\n\n        API.createSale(newSale).then( res => {\n            console.log(res)\n        })\n\n    }\n\n    render() {\n        console.log(this.state)\n        console.log('this.props',this.props)\n\n        const { partner } = this.props\n\n        if (partner.id) {\n\n            return (\n                <div className=\"partner-top-container\">\n                    <PartnerSidebar\n                        name={partner.name}\n                        address={partner.address}\n                        logOutPartner={this.props.logOutPartner}\n                    />\n\n                    <PartnerEdit\n                        visible={this.state.editVisible}\n                        closeEdit={this.closeEdit}\n                        partner={this.props.partner}\n                        editPartner={this.props.editPartner}\n                    />\n\n                    <SaleCreateSuccess\n                        visible={this.state.editVisible}\n                        closeEdit={this.closeSaleSuccess}\n                    />\n\n                    <div className = \"partner-main-container\">\n                        <div className=\"partner-stats-container\">\n                            <h2>\n                                Statistics\n                            </h2>\n\n                            <label>\n                                #100\n                            </label>\n                            <p>\n                                on featured cafes of the week\n                            </p>\n\n                        </div>\n\n                        <div className=\"partner-sale-container\">\n                            <h2>\n                                Create Sale\n                            </h2>\n                            <form\n                                onSubmit={this.createSale}\n                            >\n                                <input\n                                    type={\"number\"}\n                                    placeholder='enter price'\n                                    onChange={(ref) => this.setState({salePriceInput: parseInt(ref.target.value)})}\n                                    required\n                                />\n                                <button className=\"partner-sale-button\">\n                                    Create\n                                </button>\n                            </form>\n\n\n\n                        </div>\n\n                        <div className = \"restaurant-profile-container\">\n\n                            <div className='restaurant-profile-heading'>\n                                Profile\n                            </div>\n\n                            <label className=\"restaurant-profile-item1\">\n                                Name:\n                            </label>\n                            <div className=\"restaurant-profile-item2\">\n                                {partner.name}\n\n                            </div>\n\n                            <label className=\"restaurant-profile-item3\">\n                                Description\n                            </label>\n                            <div className=\"restaurant-profile-item4\">\n                                {partner.description}\n                            </div>\n\n\n\n                            <label className=\"restaurant-profile-item5\">\n                                Rewards Offered:\n\n                            </label>\n                            <div className=\"restaurant-profile-item6\">\n                                <ul>\n                                    {\n                                       partner.typeOfRewards.map(item =>\n                                        <li>\n                                            {this.rewardHelper[item].description}\n                                        </li>\n                                       )\n                                    }\n\n                                </ul>\n                            </div>\n\n                            <label className=\"restaurant-profile-item7\">\n                                About:\n                            </label>\n                            <div className=\"restaurant-profile-item8\">\n                                {partner.about}\n                            </div>\n\n                            <label className=\"restaurant-profile-item9\">\n                                Sustainability Practices:\n                            </label>\n                            <div className=\"restaurant-profile-item10\">\n                                <ul>\n                                    {\n                                        partner.sustainabilityPractices.map(item =>\n                                            <li>\n                                                {item}\n                                            </li>\n                                        )\n                                    }\n\n                                </ul>\n                            </div>\n\n                            <label className=\"restaurant-profile-item11\">\n                                Address:\n                            </label>\n                            <div className=\"restaurant-profile-item12\">\n                                {partner.address}\n                            </div>\n\n                            <div className='restaurant-profile-button'>\n                                <button onClick={this.openEdit}>\n                                    Edit\n                                </button>\n                            </div>\n\n                        </div>\n\n\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n\n                    <div className='profile-not-signed-in'>\n                        <h1>\n                            No partner logged in. Please Log In.\n                        </h1>\n\n                        <Link\n                            className={'navbar-button'}\n                            to={'/partner/login'}\n                        > Partner Login </Link>\n\n\n                    </div>\n\n\n            )\n        }\n    }\n}\n\nexport default PartnerDashboard;\n"]},"metadata":{},"sourceType":"module"}