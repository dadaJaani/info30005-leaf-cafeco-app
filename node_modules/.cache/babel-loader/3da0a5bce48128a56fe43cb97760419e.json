{"ast":null,"code":"import _objectSpread from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerDashboard.js\";\nimport React, { Component } from 'react';\nimport PartnerSidebar from '../components/PartnerSidebar';\nimport PartnerEdit from '../components/PartnerEdit';\nimport SaleCreateSuccess from '../components/SaleCreateSuccess';\nimport * as API from '../utils/api';\nimport '../styles/restaurant.css';\nimport logo from \"../assets/cafecopartnerslogo.svg\";\nimport marker from \"../assets/Image-10.png\";\nimport { Link } from \"react-router-dom\";\n\nvar PartnerDashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PartnerDashboard, _Component);\n\n  function PartnerDashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PartnerDashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PartnerDashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.rewardHelper = {\n      RewFD: {\n        description: \"Free Drink\",\n        points: 35\n      },\n      Rew10: {\n        description: \"10% Off\",\n        points: 50\n      },\n      Rew20: {\n        description: \"20% Off\",\n        points: 75\n      },\n      Rew25: {\n        description: \"25% Off\",\n        points: 100\n      },\n      Rew50: {\n        description: \"50% Off\",\n        points: 200\n      },\n      Rew75: {\n        description: \"75% Off\",\n        points: 350\n      },\n      RewFM: {\n        description: \"Free Meal\",\n        points: 500\n      },\n      Rew100: {\n        description: \"100% Off\",\n        points: 1000\n      }\n    };\n    _this.state = {\n      salePriceInput: 0,\n      partner: {},\n      editVisible: false,\n      saleSuccessVisible: false,\n      createdSalePrice: 0,\n      createdSaleID: ''\n    };\n\n    _this.openEdit = function () {\n      _this.setState({\n        editVisible: true\n      });\n    };\n\n    _this.closeEdit = function () {\n      _this.setState({\n        editVisible: false\n      });\n    };\n\n    _this.openSaleSuccess = function () {\n      _this.setState({\n        saleSuccessVisible: true\n      });\n    };\n\n    _this.closeSaleSuccess = function () {\n      _this.setState({\n        saleSuccessVisible: false\n      });\n    };\n\n    _this.createSale = function (e) {\n      e.preventDefault();\n      var saleID = '' + Math.random().toString(36).substr(2, 8);\n      var newSale = {\n        id: saleID,\n        restaurantId: _this.props.partner.id,\n        date: new Date(),\n        price: _this.state.salePriceInput\n      };\n      API.createSale(newSale).then(function (res) {\n        _this.setState(function (prevState) {\n          return {\n            salePriceInput: 0,\n            saleSuccessVisible: true,\n            createdSalePrice: prevState.salePriceInput,\n            createdSaleID: saleID.toUpperCase()\n          };\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PartnerDashboard, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState(_objectSpread({}, this.state));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state);\n      console.log('this.props', this.props);\n      var partner = this.props.partner;\n\n      if (partner.id) {\n        return React.createElement(\"div\", {\n          className: \"partner-top-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(PartnerSidebar, {\n          name: partner.name,\n          address: partner.address,\n          logOutPartner: this.props.logOutPartner,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }), React.createElement(PartnerEdit, {\n          visible: this.state.editVisible,\n          closeEdit: this.closeEdit,\n          partner: this.props.partner,\n          editPartner: this.props.editPartner,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }), React.createElement(SaleCreateSuccess, {\n          visible: this.state.saleSuccessVisible,\n          closeSaleSuccess: this.closeSaleSuccess,\n          price: this.state.createdSalePrice,\n          saleID: this.state.createdSaleID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"partner-main-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"partner-stats-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Statistics\"), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"#100\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"on featured cafes of the week\")), React.createElement(\"div\", {\n          className: \"partner-sale-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Create Sale\"), React.createElement(\"form\", {\n          onSubmit: this.createSale,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"number\",\n          value: this.state.salePriceInput,\n          min: 1,\n          placeholder: \"enter price\",\n          onChange: function onChange(ref) {\n            return _this2.setState({\n              salePriceInput: parseInt(ref.target.value)\n            });\n          },\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"partner-sale-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"Create\"))), React.createElement(\"div\", {\n          className: \"restaurant-profile-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"restaurant-profile-heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"Profile\"), React.createElement(\"label\", {\n          className: \"restaurant-profile-item1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"Name:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, partner.name), React.createElement(\"label\", {\n          className: \"restaurant-profile-item3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Description\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, partner.description), React.createElement(\"label\", {\n          className: \"restaurant-profile-item5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"Rewards Offered:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, partner.typeOfRewards.map(function (item) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, _this2.rewardHelper[item].description);\n        }))), React.createElement(\"label\", {\n          className: \"restaurant-profile-item7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \"About:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, partner.about), React.createElement(\"label\", {\n          className: \"restaurant-profile-item9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, \"Sustainability Practices:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, partner.sustainabilityPractices.map(function (item) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237\n            },\n            __self: this\n          }, item);\n        }))), React.createElement(\"label\", {\n          className: \"restaurant-profile-item11\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Address:\"), React.createElement(\"div\", {\n          className: \"restaurant-profile-item12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, partner.address), React.createElement(\"div\", {\n          className: \"restaurant-profile-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: this.openEdit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, \"Edit\")))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"profile-not-signed-in\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, \"No partner logged in. Please Log In.\"), React.createElement(Link, {\n          className: 'navbar-button',\n          to: '/partner/login',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, \" Partner Login \"));\n      }\n    }\n  }]);\n\n  return PartnerDashboard;\n}(Component);\n\nexport default PartnerDashboard;","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/screens/PartnerDashboard.js"],"names":["React","Component","PartnerSidebar","PartnerEdit","SaleCreateSuccess","API","marker","Link","PartnerDashboard","rewardHelper","RewFD","description","points","Rew10","Rew20","Rew25","Rew50","Rew75","RewFM","Rew100","state","salePriceInput","partner","editVisible","saleSuccessVisible","createdSalePrice","createdSaleID","openEdit","setState","closeEdit","openSaleSuccess","closeSaleSuccess","createSale","e","preventDefault","saleID","Math","random","toString","substr","newSale","id","restaurantId","props","date","Date","price","then","res","prevState","toUpperCase","nextProps","console","log","name","address","logOutPartner","editPartner","ref","parseInt","target","value","typeOfRewards","map","item","about","sustainabilityPractices"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport PartnerSidebar from '../components/PartnerSidebar'\nimport PartnerEdit from '../components/PartnerEdit'\nimport SaleCreateSuccess from '../components/SaleCreateSuccess'\nimport * as API from '../utils/api'\n\nimport '../styles/restaurant.css';\n\nimport logo from \"../assets/cafecopartnerslogo.svg\";\nimport marker from \"../assets/Image-10.png\";\nimport {Link} from \"react-router-dom\";\n\nclass PartnerDashboard extends Component {\n\n    rewardHelper = {\n        RewFD: {\n            description: \"Free Drink\",\n            points: 35,\n        },\n        Rew10: {\n            description: \"10% Off\",\n            points: 50,\n        },\n        Rew20: {\n            description: \"20% Off\",\n            points: 75,\n        },\n        Rew25: {\n            description: \"25% Off\",\n            points: 100,\n        },\n        Rew50: {\n            description: \"50% Off\",\n            points: 200,\n        },\n        Rew75: {\n            description: \"75% Off\",\n            points: 350,\n        },\n        RewFM: {\n            description: \"Free Meal\",\n            points: 500,\n        },\n        Rew100: {\n            description: \"100% Off\",\n            points: 1000,\n        },\n    }\n\n    state = {\n        salePriceInput: 0,\n        partner: {},\n        editVisible: false,\n        saleSuccessVisible: false,\n        createdSalePrice: 0,\n        createdSaleID: '',\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            ...this.state,\n        })\n    }\n\n    openEdit = () => {\n        this.setState({\n            editVisible: true,\n        })\n    }\n\n    closeEdit = () => {\n        this.setState({\n            editVisible: false,\n        })\n    }\n\n    openSaleSuccess = () => {\n        this.setState({\n            saleSuccessVisible: true,\n        })\n    }\n\n    closeSaleSuccess = () => {\n        this.setState({\n            saleSuccessVisible: false,\n        })\n    }\n\n    createSale = (e) => {\n        e.preventDefault()\n\n        let saleID = ('' + Math.random().toString(36).substr(2, 8));\n\n        let newSale = {\n            id: saleID,\n            restaurantId: this.props.partner.id,\n            date: new Date(),\n            price: this.state.salePriceInput,\n        }\n\n        API.createSale(newSale).then( res => {\n            this.setState(prevState => ({\n                salePriceInput: 0,\n                saleSuccessVisible: true,\n                createdSalePrice: prevState.salePriceInput,\n                createdSaleID: saleID.toUpperCase(),\n            }))\n        })\n\n    }\n\n    render() {\n        console.log(this.state)\n        console.log('this.props',this.props)\n\n        const { partner } = this.props\n\n        if (partner.id) {\n\n            return (\n                <div className=\"partner-top-container\">\n                    <PartnerSidebar\n                        name={partner.name}\n                        address={partner.address}\n                        logOutPartner={this.props.logOutPartner}\n                    />\n\n                    <PartnerEdit\n                        visible={this.state.editVisible}\n                        closeEdit={this.closeEdit}\n                        partner={this.props.partner}\n                        editPartner={this.props.editPartner}\n                    />\n\n                    <SaleCreateSuccess\n                        visible={this.state.saleSuccessVisible}\n                        closeSaleSuccess={this.closeSaleSuccess}\n                        price={this.state.createdSalePrice}\n                        saleID={this.state.createdSaleID}\n                    />\n\n                    <div className = \"partner-main-container\">\n                        <div className=\"partner-stats-container\">\n                            <h2>\n                                Statistics\n                            </h2>\n\n                            <label>\n                                #100\n                            </label>\n                            <p>\n                                on featured cafes of the week\n                            </p>\n\n                        </div>\n\n                        <div className=\"partner-sale-container\">\n                            <h2>\n                                Create Sale\n                            </h2>\n                            <form\n                                onSubmit={this.createSale}\n                            >\n                                <input\n                                    type={\"number\"}\n                                    value={this.state.salePriceInput}\n                                    min={1}\n                                    placeholder='enter price'\n                                    onChange={(ref) => this.setState({salePriceInput: parseInt(ref.target.value)})}\n                                    required\n                                />\n                                <button className=\"partner-sale-button\">\n                                    Create\n                                </button>\n                            </form>\n\n\n\n                        </div>\n\n                        <div className = \"restaurant-profile-container\">\n\n                            <div className='restaurant-profile-heading'>\n                                Profile\n                            </div>\n\n                            <label className=\"restaurant-profile-item1\">\n                                Name:\n                            </label>\n                            <div className=\"restaurant-profile-item2\">\n                                {partner.name}\n\n                            </div>\n\n                            <label className=\"restaurant-profile-item3\">\n                                Description\n                            </label>\n                            <div className=\"restaurant-profile-item4\">\n                                {partner.description}\n                            </div>\n\n\n\n                            <label className=\"restaurant-profile-item5\">\n                                Rewards Offered:\n\n                            </label>\n                            <div className=\"restaurant-profile-item6\">\n                                <ul>\n                                    {\n                                       partner.typeOfRewards.map(item =>\n                                        <li>\n                                            {this.rewardHelper[item].description}\n                                        </li>\n                                       )\n                                    }\n\n                                </ul>\n                            </div>\n\n                            <label className=\"restaurant-profile-item7\">\n                                About:\n                            </label>\n                            <div className=\"restaurant-profile-item8\">\n                                {partner.about}\n                            </div>\n\n                            <label className=\"restaurant-profile-item9\">\n                                Sustainability Practices:\n                            </label>\n                            <div className=\"restaurant-profile-item10\">\n                                <ul>\n                                    {\n                                        partner.sustainabilityPractices.map(item =>\n                                            <li>\n                                                {item}\n                                            </li>\n                                        )\n                                    }\n\n                                </ul>\n                            </div>\n\n                            <label className=\"restaurant-profile-item11\">\n                                Address:\n                            </label>\n                            <div className=\"restaurant-profile-item12\">\n                                {partner.address}\n                            </div>\n\n                            <div className='restaurant-profile-button'>\n                                <button onClick={this.openEdit}>\n                                    Edit\n                                </button>\n                            </div>\n\n                        </div>\n\n\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n\n                    <div className='profile-not-signed-in'>\n                        <h1>\n                            No partner logged in. Please Log In.\n                        </h1>\n\n                        <Link\n                            className={'navbar-button'}\n                            to={'/partner/login'}\n                        > Partner Login </Link>\n\n\n                    </div>\n\n\n            )\n        }\n    }\n}\n\nexport default PartnerDashboard;\n"]},"metadata":{},"sourceType":"module"}