{"ast":null,"code":"import _classCallCheck from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/components/SignUp.js\";\nimport React, { Component } from 'react';\nimport * as API from '../utils/api';\nimport '../styles/main.css';\nimport { IoIosAddCircle, IoIosCheckmarkCircle } from \"react-icons/io\";\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this, props));\n\n    _this.handleChange = function () {\n      _this.setState({\n        username: _this.refs.usernameIN.value,\n        fname: _this.refs.fnameIN.value,\n        lname: _this.refs.lnameIN.value,\n        email: _this.refs.emailIN.value,\n        password: _this.refs.passwordIN.value,\n        cpassword: _this.refs.cpasswordIN.value\n      });\n\n      if (_this.refs.cpasswordIN.value !== '' && _this.refs.passwordIN.value !== '') {\n        if (_this.refs.cpasswordIN.value === _this.refs.passwordIN.value) {\n          _this.setState({\n            showStatusPassword: true,\n            passwordCorrect: true\n          });\n        } else {\n          _this.setState({\n            showStatusPassword: true,\n            passwordCorrect: false\n          });\n        }\n      } else {\n        _this.setState({\n          showStatusPassword: false\n        });\n      }\n\n      _this.setState(function (prevState) {\n        var username = prevState.username,\n            emailExists = prevState.emailExists,\n            email = prevState.email,\n            passwordCorrect = prevState.passwordCorrect,\n            usernameExists = prevState.usernameExists,\n            fname = prevState.fname,\n            lname = prevState.lname;\n\n        if (!emailExists && username !== '' && passwordCorrect && !usernameExists && email !== '' && fname !== '' && lname !== '') {\n          return {\n            formErrors: false\n          };\n        } else {\n          return {\n            formErrors: true\n          };\n        }\n      });\n    };\n\n    _this.handleChangeUser = function () {\n      if (_this.refs.usernameIN.value !== '') {\n        API.checkUserID(_this.refs.usernameIN.value).then(function (res) {\n          return _this.setState({\n            showStatusUser: true,\n            usernameExists: res\n          }, function () {\n            _this.setState(function (prevState) {\n              var username = prevState.username,\n                  emailExists = prevState.emailExists,\n                  email = prevState.email,\n                  passwordCorrect = prevState.passwordCorrect,\n                  fname = prevState.fname,\n                  lname = prevState.lname;\n\n              if (!emailExists && username !== '' && passwordCorrect && !res && email !== '' && fname !== '' && lname !== '') {\n                return {\n                  formErrors: false\n                };\n              } else {\n                return {\n                  formErrors: true\n                };\n              }\n            });\n          });\n        });\n      } else {\n        _this.setState({\n          showStatusUser: false\n        });\n      }\n    };\n\n    _this.handleChangeEmail = function () {\n      if (_this.refs.emailIN.value !== '') {\n        API.checkUserEmail(_this.refs.emailIN.value).then(function (res) {\n          return _this.setState({\n            showStatusEmail: true,\n            emailExists: res\n          }, function () {\n            _this.setState(function (prevState) {\n              var username = prevState.username,\n                  emailExists = prevState.emailExists,\n                  email = prevState.email,\n                  passwordCorrect = prevState.passwordCorrect,\n                  fname = prevState.fname,\n                  lname = prevState.lname;\n\n              if (!emailExists && username !== '' && passwordCorrect && !res && email !== '' && fname !== '' && lname !== '') {\n                return {\n                  formErrors: false\n                };\n              } else {\n                return {\n                  formErrors: true\n                };\n              }\n            });\n          });\n        });\n      } else {\n        _this.setState({\n          showStatusEmail: false\n        });\n      }\n    };\n\n    _this.signUpUser = function (event) {\n      event.preventDefault(); // console.log(this.state);\n      // alert('A name was submitted: ' + this.state);\n      // API.createUser(this.state).then(res => console.log('post', res))\n      // API.login({ username: this.state.username, password: this.state.password }).then(res => console.log(res))\n      // // // API.getRewardsByUserID(this.state.username).then(res => console.log(res))\n      // API.editUser('asd' , this.state ).then(res => console.log('put', res))\n      // API.getUser(this.state).then(res => console.log('get', res))\n      // API.deleteUser(this.state.username).then(res => console.log(res))\n    };\n\n    _this.doSignUp = function (event) {\n      event.preventDefault();\n\n      if (_this.state.formErrors) {} else {\n        var newUser = {\n          username: _this.state.username,\n          fname: _this.state.fname,\n          lname: _this.state.lname,\n          email: _this.state.email,\n          password: _this.state.password\n        };\n        API.createUser(newUser).then(function (res) {\n          console.log(res);\n\n          if (!res) {} else {\n            _this.props.doSignUp(res);\n          }\n        });\n      }\n    };\n\n    _this.closeSignUp = function () {\n      _this.props.closeSignUp();\n    };\n\n    _this.state = {\n      username: '',\n      fname: '',\n      lname: '',\n      email: '',\n      password: '',\n      cpassword: '',\n      showStatusUser: false,\n      usernameExists: false,\n      showStatusEmail: false,\n      emailExists: false,\n      showStatusPassword: false,\n      passwordCorrect: false,\n      formErrors: true\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    //mj@hotmail.com\n    value: function render() {\n      if (this.props.visible) {\n        return React.createElement(\"div\", {\n          className: 'signup',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: 'signup-backdrop',\n          onClick: this.closeSignUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: 'signup-container',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: 'signup-title',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"Sign Up\"), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \"Username:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'Username',\n          type: \"text\",\n          value: this.state.username,\n          ref: \"usernameIN\",\n          onChange: this.handleChange,\n          onBlur: this.handleChangeUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: this.state.showStatusUser ? 'signup-input-check-container' : 'signup-input-check-container invisible',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, !this.state.usernameExists ? React.createElement(IoIosCheckmarkCircle, {\n          className: 'signup-input-check',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }) : React.createElement(IoIosAddCircle, {\n          className: 'signup-input-cross',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"First Name:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'First Name',\n          type: \"text\",\n          value: this.state.fname,\n          ref: \"fnameIN\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, \"Last Name:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'Last Name',\n          type: \"text\",\n          value: this.state.lname,\n          ref: \"lnameIN\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, \"Email:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'Email',\n          type: \"text\",\n          value: this.state.email,\n          ref: \"emailIN\",\n          onChange: this.handleChange,\n          onBlur: this.handleChangeEmail,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: this.state.showStatusEmail ? 'signup-input-check-container' : 'signup-input-check-container invisible',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, !this.state.emailExists ? React.createElement(IoIosCheckmarkCircle, {\n          className: 'signup-input-check',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }) : React.createElement(IoIosAddCircle, {\n          className: 'signup-input-cross',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, \"Password:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'Password',\n          type: 'password',\n          value: this.state.password,\n          ref: \"passwordIN\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"signup-input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"signup-input-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        }, \"Repeat Password:\"), React.createElement(\"input\", {\n          className: 'signup-input',\n          placeholder: 'Confirm Password',\n          type: 'password',\n          value: this.state.cpassword,\n          ref: \"cpasswordIN\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: this.state.showStatusPassword ? 'signup-input-check-container' : 'signup-input-check-container invisible',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        }, this.state.passwordCorrect ? React.createElement(IoIosCheckmarkCircle, {\n          className: 'signup-input-check',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }) : React.createElement(IoIosAddCircle, {\n          className: 'signup-input-cross',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: 'signup-button-container',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: 'signup-button-close',\n          onClick: this.closeSignUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }, \"Cancel\"), React.createElement(\"button\", {\n          className: this.state.formErrors ? 'signup-button-disabled' : 'signup-button',\n          onClick: this.doSignUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, \"Sign Up\"))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/waqasrehmani/work/info30005/info30005-leaf-cafeco-app/src/components/SignUp.js"],"names":["React","Component","API","IoIosAddCircle","IoIosCheckmarkCircle","SignUp","props","handleChange","setState","username","refs","usernameIN","value","fname","fnameIN","lname","lnameIN","email","emailIN","password","passwordIN","cpassword","cpasswordIN","showStatusPassword","passwordCorrect","prevState","emailExists","usernameExists","formErrors","handleChangeUser","checkUserID","then","res","showStatusUser","handleChangeEmail","checkUserEmail","showStatusEmail","signUpUser","event","preventDefault","doSignUp","state","newUser","createUser","console","log","closeSignUp","bind","visible"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport * as API from '../utils/api'\n\nimport '../styles/main.css'\nimport {IoIosAddCircle, IoIosCheckmarkCircle} from \"react-icons/io\";\n\nclass SignUp extends Component {\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            username: '',\n            fname: '',\n            lname: '',\n            email: '',\n            password: '',\n            cpassword: '',\n            showStatusUser: false,\n            usernameExists: false,\n            showStatusEmail: false,\n            emailExists: false,\n\n            showStatusPassword: false,\n            passwordCorrect: false,\n            formErrors: true,\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange = () => {\n        this.setState({\n            username: this.refs.usernameIN.value,\n            fname: this.refs.fnameIN.value,\n            lname: this.refs.lnameIN.value,\n            email: this.refs.emailIN.value,\n            password: this.refs.passwordIN.value,\n            cpassword: this.refs.cpasswordIN.value,\n        })\n\n        if (this.refs.cpasswordIN.value !== '' && this.refs.passwordIN.value !== ''){\n\n            if (this.refs.cpasswordIN.value ===  this.refs.passwordIN.value) {\n                this.setState({\n                    showStatusPassword: true,\n                    passwordCorrect: true\n                })\n            } else {\n                this.setState({\n                    showStatusPassword: true,\n                    passwordCorrect: false\n                })\n            }\n        } else {\n            this.setState({\n                showStatusPassword: false,\n            })\n        }\n\n        this.setState((prevState) =>  {\n            const { username, emailExists, email, passwordCorrect, usernameExists, fname, lname } = prevState\n            if (!emailExists && username !== '' && passwordCorrect && !usernameExists && email !== '' && fname !== '' && lname !== ''){\n                return {\n                    formErrors: false,\n                }\n            } else {\n                return {\n                    formErrors: true,\n                }\n            }\n\n        })\n\n    }\n\n\n    handleChangeUser = () => {\n        if (this.refs.usernameIN.value !== ''){\n            API.checkUserID(this.refs.usernameIN.value).then(res =>\n                this.setState({\n                    showStatusUser: true,\n                    usernameExists: res\n                }, () => {\n                    this.setState((prevState) =>  {\n                        const { username, emailExists, email, passwordCorrect, fname, lname } = prevState\n                        if (!emailExists && username !== '' && passwordCorrect && !res && email !== '' && fname !== '' && lname !== ''){\n                            return {\n                                formErrors: false,\n                            }\n                        } else {\n                            return {\n                                formErrors: true,\n                            }\n                        }\n\n                    })\n                    }\n                )\n\n\n            )\n        } else {\n            this.setState({\n                showStatusUser: false,\n            })\n        }\n\n\n    }\n\n    handleChangeEmail = () => {\n\n        if (this.refs.emailIN.value !== ''){\n            API.checkUserEmail(this.refs.emailIN.value).then(res =>\n                this.setState({\n                    showStatusEmail: true,\n                    emailExists: res\n                }, () => {\n                    this.setState((prevState) =>  {\n                        const { username, emailExists, email, passwordCorrect, fname, lname } = prevState\n                        if (!emailExists && username !== '' && passwordCorrect && !res && email !== '' && fname !== '' && lname !== ''){\n                            return {\n                                formErrors: false,\n                            }\n                        } else {\n                            return {\n                                formErrors: true,\n                            }\n                        }\n\n                    })\n                })\n            )\n        } else {\n            this.setState({\n                showStatusEmail: false,\n            })\n        }\n    }\n\n    signUpUser = (event) => {\n        event.preventDefault();\n\n        // console.log(this.state);\n        // alert('A name was submitted: ' + this.state);\n\n        // API.createUser(this.state).then(res => console.log('post', res))\n\n\n\n\n        // API.login({ username: this.state.username, password: this.state.password }).then(res => console.log(res))\n\n        // // // API.getRewardsByUserID(this.state.username).then(res => console.log(res))\n        // API.editUser('asd' , this.state ).then(res => console.log('put', res))\n\n        // API.getUser(this.state).then(res => console.log('get', res))\n        // API.deleteUser(this.state.username).then(res => console.log(res))\n\n    }\n\n    doSignUp = (event) => {\n        event.preventDefault();\n\n        if (this.state.formErrors) {\n\n        } else {\n            let newUser = {\n                username: this.state.username,\n                fname: this.state.fname,\n                lname: this.state.lname,\n                email: this.state.email,\n                password: this.state.password,\n            }\n\n            API.createUser(newUser).then( res => {\n                console.log(res)\n                if (!res) {\n\n                } else {\n                    this.props.doSignUp(res)\n                }\n            })\n        }\n\n    }\n\n    closeSignUp = () => {\n        this.props.closeSignUp()\n    }\n\n    //mj@hotmail.com\n\n    render(){\n\n        if (this.props.visible) {\n            return (\n                <div className={'signup'}>\n\n                    <div\n                        className={'signup-backdrop'}\n                        onClick={this.closeSignUp}\n                    ></div>\n\n                    <div className={'signup-container'}>\n\n                        <div className={'signup-title'}>\n                            Sign Up\n                        </div>\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>Username:</label>\n\n                            <input\n                                className={'signup-input'}\n                                placeholder={'Username'}\n                                type=\"text\"\n                                value={this.state.username}\n                                ref=\"usernameIN\"\n                                onChange={this.handleChange}\n                                onBlur={this.handleChangeUser}\n                            />\n\n                            <div className={ this.state.showStatusUser\n                                ? 'signup-input-check-container'\n                                : 'signup-input-check-container invisible'\n                            }>\n                                {!this.state.usernameExists\n                                    ?\n                                    <IoIosCheckmarkCircle\n                                        className={'signup-input-check'}\n                                    />\n\n                                    :\n                                    <IoIosAddCircle\n                                        className={'signup-input-cross'}\n                                    />\n                                }\n                            </div>\n                        </div>\n\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>First Name:</label>\n                            <input\n                                className={'signup-input'}\n                                placeholder={'First Name'}\n                                type=\"text\"\n                                value={this.state.fname}\n                                ref=\"fnameIN\"\n                                onChange={this.handleChange}/>\n                        </div>\n\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>Last Name:</label>\n                            <input\n                                className={'signup-input'}\n                                placeholder={'Last Name'}\n                                type=\"text\"\n                                value={this.state.lname}\n                                ref=\"lnameIN\"\n                                onChange={this.handleChange}/>\n                        </div>\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>Email:</label>\n                            <input\n                                className={'signup-input'}\n                                placeholder={'Email'}\n                                type=\"text\"\n                                value={this.state.email}\n                                ref=\"emailIN\"\n                                onChange={this.handleChange}\n                                onBlur={this.handleChangeEmail}\n                            />\n                            <div className={ this.state.showStatusEmail\n                                ? 'signup-input-check-container'\n                                : 'signup-input-check-container invisible'\n                            }>\n                                {!this.state.emailExists\n                                    ?\n                                    <IoIosCheckmarkCircle\n                                        className={'signup-input-check'}\n                                    />\n\n                                    :\n                                    <IoIosAddCircle\n                                        className={'signup-input-cross'}\n                                    />\n                                }\n                            </div>\n                        </div>\n\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>Password:</label>\n                            <input\n                                className={'signup-input'}\n                                placeholder={'Password'}\n                                type={'password'}\n                                value={this.state.password}\n                                ref=\"passwordIN\"\n                                onChange={this.handleChange}\n                            />\n                        </div>\n\n                        <div className='signup-input-container'>\n                            <label className='signup-input-label'>Repeat Password:</label>\n                            <input\n                                className={'signup-input'}\n                                placeholder={'Confirm Password'}\n                                type={'password'}\n                                value={this.state.cpassword}\n                                ref=\"cpasswordIN\"\n                                onChange={this.handleChange}\n                            />\n\n                            <div className={ this.state.showStatusPassword\n                                ? 'signup-input-check-container'\n                                : 'signup-input-check-container invisible'\n                            }>\n                                {this.state.passwordCorrect\n                                    ?\n                                    <IoIosCheckmarkCircle\n                                        className={'signup-input-check'}\n                                    />\n\n                                    :\n                                    <IoIosAddCircle\n                                        className={'signup-input-cross'}\n                                    />\n                                }\n                            </div>\n                        </div>\n\n\n\n                        <div className={'signup-button-container'}>\n                            <button\n                                className={'signup-button-close'}\n                                onClick={this.closeSignUp}>Cancel\n                            </button>\n                            <button\n                                className={this.state.formErrors\n                                    ? 'signup-button-disabled'\n                                    : 'signup-button' }\n                                onClick={this.doSignUp}>Sign Up\n                            </button>\n                        </div>\n\n                    </div>\n\n                </div>\n            )\n\n        } else {\n            return (\n                <div/>\n            )\n        }\n    }\n}\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}